
###多线程

线程在60年代已经提出。最早的系统与80年代开始支持多线程。但是每个进程只支持一个线程，这样多线程意味着多进程。
可是为什么有了多进程概念后，还要引入线程呢？线程有什么地方由于进程？什么系统或者模块需要选用线程呢？而且什么多线程呢？
多线程是一种多任务，并发的工作方式。
多线程向较于多进程。其实一个开销非常“低廉”的多任务操作方式。每启动一个新的进程，系统都会为该进程分配独立的地址空间，和许多的数据表用于维护它的代码段，堆栈段和数据段。而同一个进程中的线程共享同一块地址空间，共享大部分数据。启动一个线程的消耗远远小于启动一个进程，不论从空间还是从时间都是如此。线程之间的切换时间也远远小于进程之间的切换。据统计，进程的消耗是线程的30倍左右。当然也要视具体的操作系统而决定。
由于进程都有各自独有的地址空间，所以进程之间的数据交流只能通过通信进行，费时，切不方便。线程则不然，由于同一个进程之间的线程他们共享着同一块数据，所以一个线程中的数据，可以被其他线程所使用。当然方便带来的肯定也有烦恼。比如有些数据不能同时被两个线程修改。也有的子程序中定义的staitc变量可能给程序带来灾难性的打击，这正是编写多线程需要注意的地方。 
多线程的优点：

* 提高应用程序的响应速度。在有界面的程序中尤其如此。当一个非常耗时的操作阻塞了主线程后，将导致所有的界面操作无法进行，给用于造成了假死的现象。这种体验式非常不好的，如果讲耗时的操作放在新的线程，这个问题就会迎刃而解。
* 能使多个内核的系统得到充分的发挥。操作系统会保证，当线程数量小于等于CPU核心数时，每个线程运行在不同的内核上。
* 使得程序的结构更加明了。一个非常长切复杂的程序，可以考虑分成几个独立或者说半独立的程序。这样程序就会相对容易理解。

多线程的原理：
同一时间，CPU只能处理一条线程（多个内核除外）。多线程并发（同时）执行，其实是CPU快速的在各个线程之间转换，如果调用各个线程的时间足够快，就会造成多个线程同时运行的假象。如果线程非常多，那么就会造成在相同优先级的线程调用频率降低。

说了这么多，还是回到正题IOS中的多线程。
IOS程序运行后，会默认开启一个线程，这个线程可以称为主线程，或者UI线程。所有有关UI的操作都必须在此线程中进行。
所有非常耗时的操作，尽量放到子线程中去。



